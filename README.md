# ローグライクっぽい地形を設計図から生成する
## Enviroments
Unity 2019.4.2f1

## Overview
地形の設計図を書いたScriptableObjectを生成することで、恣意的かつランダムなローグライクっぽい地形を生成するアルゴリズムです

### How to Use
Assets → Create → ScriptableObject → FieldBluePrint  
生成されたScriptableObjectを入力  


|変数名|役割|
|---|---|
|Size|盤面のサイズ|
|MinRoomNum<br>MaxRoomNum|部屋の最大数<br>下限値と上限値を設定して、組み立て時にランダムに決定|
|MinRandomBranchNum<br>MaxRandomBranchNum|一通り道を繋げた後で、余分に道を足す数<br>どことどこを繋ぐかはランダム<br>下限値と上限値を設定して、組み立て時にランダムに決定|
|Sections|区域の定義情報<br>区域ごとにさらに以下を設定<br>・index<br>・左上座標<br>・範囲<br>・部屋の最小サイズ<br>・絶対に部屋を作るかどうか<br>・部屋を作るか抽選するときの重み|
|Connections|デフォルトの区域の接続情報<br>fromとtoのペアを列挙して指定<br>fromとtoは区域のindex|
|AutoGenerateDefaultConnections|デフォルトの区域接続情報をランダムに自動生成するかどうか|


以下のコードでFieldのモデルが生成される。
```cs
var fieldBluePrint = Resources.Load<FieldBluePrint>("FieldBluePrintName");
var field = FieldBuilder.Build(fieldBluePrint);
```

### Example
![2020-12-08-16-17-48](https://user-images.githubusercontent.com/18748678/101453135-326d2200-3972-11eb-8636-46cd366f5928.png)
![2020-12-08-16-18-09](https://user-images.githubusercontent.com/18748678/101453137-339e4f00-3972-11eb-8f2a-d4dc41964889.png)
![2020-12-08-16-18-43](https://user-images.githubusercontent.com/18748678/101453139-3436e580-3972-11eb-8901-a518103060ad.png)
![2020-12-08-13-47-43](https://user-images.githubusercontent.com/18748678/101445882-9d642c00-3965-11eb-87a8-fafe5a8b8daf.png)
![2020-12-08-16-19-50](https://user-images.githubusercontent.com/18748678/101453142-3436e580-3972-11eb-81d2-46c4a8fd2199.png)
![2020-12-08-16-20-45](https://user-images.githubusercontent.com/18748678/101453144-34cf7c00-3972-11eb-8905-3643c541f328.png)
![2020-12-08-16-21-14](https://user-images.githubusercontent.com/18748678/101453147-34cf7c00-3972-11eb-8339-cc48c9d030f6.png)
![2020-12-08-16-21-35](https://user-images.githubusercontent.com/18748678/101453150-35681280-3972-11eb-91e1-922e956da9c4.png)
![2020-12-08-16-21-55](https://user-images.githubusercontent.com/18748678/101453152-3600a900-3972-11eb-8a1d-c1139aded05e.png)
![2020-12-08-16-22-11](https://user-images.githubusercontent.com/18748678/101453154-36993f80-3972-11eb-8ff1-a05a10b78fe9.png)
![2020-12-08-16-22-31](https://user-images.githubusercontent.com/18748678/101453157-37ca6c80-3972-11eb-896d-a9cc61a2332b.png)
